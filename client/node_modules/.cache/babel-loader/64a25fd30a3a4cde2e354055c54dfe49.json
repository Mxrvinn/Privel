{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from \"react\";\nimport { Tag } from \"./components/Tag\";\nimport { classSelectors } from \"./utils/selectors\";\n\nvar ReactTagInput = function (_super) {\n  __extends(ReactTagInput, _super);\n\n  function ReactTagInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      input: \"\"\n    };\n    _this.inputRef = React.createRef();\n\n    _this.onInputChange = function (e) {\n      _this.setState({\n        input: e.target.value\n      });\n    };\n\n    _this.onInputKeyDown = function (e) {\n      var input = _this.state.input;\n      var _a = _this.props,\n          validator = _a.validator,\n          removeOnBackspace = _a.removeOnBackspace;\n\n      if (e.keyCode === 13) {\n        e.preventDefault();\n\n        if (input === \"\") {\n          return;\n        }\n\n        var valid = validator !== undefined ? validator(input) : true;\n\n        if (!valid) {\n          return;\n        }\n\n        _this.addTag(input);\n      } else if (removeOnBackspace && (e.keyCode === 8 || e.keyCode === 46)) {\n        if (input !== \"\") {\n          return;\n        }\n\n        _this.removeTag(_this.props.tags.length - 1);\n      }\n    };\n\n    _this.addTag = function (value) {\n      var tags = _this.props.tags.slice();\n\n      tags.push(value);\n\n      _this.props.onChange(tags);\n\n      _this.setState({\n        input: \"\"\n      });\n    };\n\n    _this.removeTag = function (i) {\n      var tags = _this.props.tags.slice();\n\n      tags.splice(i, 1);\n\n      _this.props.onChange(tags);\n    };\n\n    _this.updateTag = function (i, value) {\n      var tags = _this.props.tags.slice();\n\n      tags[i] = value;\n\n      _this.props.onChange(tags);\n    };\n\n    return _this;\n  }\n\n  ReactTagInput.prototype.render = function () {\n    var _this = this;\n\n    var input = this.state.input;\n    var _a = this.props,\n        tags = _a.tags,\n        placeholder = _a.placeholder,\n        maxTags = _a.maxTags,\n        editable = _a.editable,\n        readOnly = _a.readOnly,\n        validator = _a.validator,\n        removeOnBackspace = _a.removeOnBackspace;\n    var maxTagsReached = maxTags !== undefined ? tags.length >= maxTags : false;\n    var isEditable = readOnly ? false : editable || false;\n    var showInput = !readOnly && !maxTagsReached;\n    return React.createElement(\"div\", {\n      className: classSelectors.wrapper\n    }, tags.map(function (tag, i) {\n      return React.createElement(Tag, {\n        key: i,\n        value: tag,\n        index: i,\n        editable: isEditable,\n        readOnly: readOnly || false,\n        inputRef: _this.inputRef,\n        update: _this.updateTag,\n        remove: _this.removeTag,\n        validator: validator,\n        removeOnBackspace: removeOnBackspace\n      });\n    }), showInput && React.createElement(\"input\", {\n      ref: this.inputRef,\n      value: input,\n      className: classSelectors.input,\n      placeholder: placeholder || \"Type and press enter\",\n      onChange: this.onInputChange,\n      onKeyDown: this.onInputKeyDown\n    }));\n  };\n\n  return ReactTagInput;\n}(React.Component);\n\nexport default ReactTagInput;","map":{"version":3,"sources":["../../src/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Tag} from \"./components/Tag\";\nimport {classSelectors} from \"./utils/selectors\";\n\ntype Tags = string[];\n\nexport interface ReactTagInputProps {\n  tags: Tags;\n  onChange: (tags: Tags) => void;\n  placeholder?: string;\n  maxTags?: number;\n  validator?: (val: string) => boolean;\n  editable?: boolean;\n  readOnly?: boolean;\n  removeOnBackspace?: boolean;\n}\n\ninterface State {\n  input: string;\n}\n\nexport default class ReactTagInput extends React.Component<ReactTagInputProps, State> {\n\n  state = { input: \"\" };\n\n  // Ref for input element\n  inputRef: React.RefObject<HTMLInputElement> = React.createRef();\n\n  onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ input: e.target.value });\n  }\n\n  onInputKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n\n    const { input } = this.state;\n    const { validator, removeOnBackspace } = this.props;\n\n    // On enter\n    if (e.keyCode === 13) {\n\n      // Prevent form submission if tag input is nested in <form>\n      e.preventDefault();\n\n      // If input is blank, do nothing\n      if (input === \"\") { return; }\n\n      // Check if input is valid\n      const valid = validator !== undefined ? validator(input) : true;\n      if (!valid) {\n        return;\n      }\n\n      // Add input to tag list\n      this.addTag(input);\n\n    }\n    // On backspace or delete\n    else if (removeOnBackspace && (e.keyCode === 8 || e.keyCode === 46)) {\n\n      // If currently typing, do nothing\n      if (input !== \"\") {\n        return;\n      }\n\n      // If input is blank, remove previous tag\n      this.removeTag(this.props.tags.length - 1);\n\n    }\n\n  }\n\n  addTag = (value: string) => {\n    const tags = [ ...this.props.tags ];\n    tags.push(value);\n    this.props.onChange(tags);\n    this.setState({ input: \"\" });\n  }\n\n  removeTag = (i: number) => {\n    const tags = [ ...this.props.tags ];\n    tags.splice(i, 1);\n    this.props.onChange(tags);\n  }\n\n  updateTag = (i: number, value: string) => {\n    const tags = [...this.props.tags];\n    tags[i] = value;\n    this.props.onChange(tags);\n  }\n\n  render() {\n\n    const { input } = this.state;\n\n    const { tags, placeholder, maxTags, editable, readOnly, validator, removeOnBackspace } = this.props;\n\n    const maxTagsReached = maxTags !== undefined ? tags.length >= maxTags : false;\n\n    const isEditable = readOnly ? false : (editable || false);\n\n    const showInput = !readOnly && !maxTagsReached;\n\n    return (\n      <div className={classSelectors.wrapper}>\n        {tags.map((tag, i) => (\n          <Tag\n            key={i}\n            value={tag}\n            index={i}\n            editable={isEditable}\n            readOnly={readOnly || false}\n            inputRef={this.inputRef}\n            update={this.updateTag}\n            remove={this.removeTag}\n            validator={validator}\n            removeOnBackspace={removeOnBackspace}\n          />\n        ))}\n        {showInput &&\n          <input\n            ref={this.inputRef}\n            value={input}\n            className={classSelectors.input}\n            placeholder={placeholder || \"Type and press enter\"}\n            onChange={this.onInputChange}\n            onKeyDown={this.onInputKeyDown}\n          />\n        }\n      </div>\n    );\n\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}