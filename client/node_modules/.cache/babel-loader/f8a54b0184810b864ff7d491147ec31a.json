{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _classNames = require('../../utils/classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // Vendor Imports\n// Local Imports\n// Dropdown Select\n\n\nvar BaseSelect = function (_Component) {\n  _inherits(BaseSelect, _Component);\n\n  function BaseSelect(props) {\n    _classCallCheck(this, BaseSelect);\n\n    var _this = _possibleConstructorReturn(this, (BaseSelect.__proto__ || Object.getPrototypeOf(BaseSelect)).call(this, props));\n\n    _this.handleInputClick = _this.handleInputClick.bind(_this);\n    _this.handleInputBlur = _this.handleInputBlur.bind(_this);\n    _this.handleOptionClick = _this.handleOptionClick.bind(_this);\n    _this.handleOptionsMouseDown = _this.handleOptionsMouseDown.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    _this.handleInputFocus = _this.handleInputFocus.bind(_this);\n    _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n    _this.handleOptionFocused = _this.handleOptionFocused.bind(_this);\n    _this.showOptions = _this.showOptions.bind(_this);\n    _this._changeValueIfReq = _this._changeValueIfReq.bind(_this);\n    return _this;\n  } // Component LifeCycle\n\n\n  _createClass(BaseSelect, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._loadProps(this.props, this._changeValueIfReq);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this._loadProps(nextProps, this._changeValueIfReq);\n    } // Handlers\n\n  }, {\n    key: 'handleInputChange',\n    value: function handleInputChange(newValue) {\n      this.setState({\n        focusedOptionIndex: 0\n      });\n\n      this._filterOptions(newValue.target.value);\n    }\n  }, {\n    key: 'handleInputClick',\n    value: function handleInputClick(event) {\n      this.setState({\n        inputFoucsed: true\n      });\n      this.showOptions(true);\n    }\n  }, {\n    key: 'handleInputBlur',\n    value: function handleInputBlur(event) {\n      this.setState({\n        inputFoucsed: false\n      });\n\n      if (!this.state.isOptionSelected || this.state.currentOptions.length == 0) {\n        this.setState({\n          isOptionsOpen: false,\n          isOptionSelected: false\n        });\n      }\n\n      this._restoreInputValue();\n    }\n  }, {\n    key: 'handleInputFocus',\n    value: function handleInputFocus(e) {\n      this.setState({\n        inputFoucsed: true\n      });\n      this.showOptions(true);\n    }\n  }, {\n    key: 'handleOptionClick',\n    value: function handleOptionClick(newOption) {\n      this._changeOption(newOption);\n    }\n  }, {\n    key: 'handleOptionsMouseDown',\n    value: function handleOptionsMouseDown(e) {\n      if (e.target !== this.optionsContainer) {\n        this.setState({\n          isOptionSelected: true\n        });\n      }\n    }\n  }, {\n    key: 'handleKeyPress',\n    value: function handleKeyPress(e) {\n      var _state = this.state,\n          currentOptions = _state.currentOptions,\n          focusedOptionIndex = _state.focusedOptionIndex;\n\n      switch (e.keyCode) {\n        case 40:\n          // Down Arrow\n          e.preventDefault();\n          e.stopPropagation();\n\n          this._navigateOptions('down');\n\n          break;\n\n        case 38:\n          // Up Arrow\n          e.preventDefault();\n          e.stopPropagation();\n\n          this._navigateOptions('up');\n\n          break;\n\n        case 13:\n          // Enter\n          e.preventDefault();\n          e.stopPropagation();\n\n          this._changeOption(currentOptions[focusedOptionIndex]);\n\n          break;\n\n        case 27:\n          // Esc\n          this.showOptions(false);\n          break;\n\n        case 8:\n          // Backspace\n          this.showOptions(true);\n          break;\n      }\n    }\n  }, {\n    key: 'handleOptionFocused',\n    value: function handleOptionFocused(index) {\n      this.setState({\n        focusedOptionIndex: index\n      });\n    } // Private\n\n  }, {\n    key: '_restoreInputValue',\n    value: function _restoreInputValue() {\n      var currentOption = this.state.currentOption;\n\n      if (currentOption) {\n        var label = this._getOptionLabel(currentOption);\n\n        if (label != this.input.value) {\n          this.input.value = label;\n        }\n      }\n    }\n  }, {\n    key: '_changeValueIfReq',\n    value: function _changeValueIfReq() {\n      var _props = this.props,\n          value = _props.value,\n          returnValueOnly = _props.returnValueOnly;\n\n      if (!value || value.length == 0) {\n        return;\n      }\n\n      if (typeof value == 'string') {\n        var option = this._getOptionByLabel(this._findLabelByValue(value));\n\n        if (!option) {\n          return;\n        } else if (!returnValueOnly) {\n          this._changeOption(option);\n        } else if (returnValueOnly) {\n          var index = this._findOptionIndexFromOptions(option);\n\n          this.setState({\n            focusedOptionIndex: index,\n            selectedOptionIndex: index\n          });\n        }\n      }\n    }\n  }, {\n    key: '_changeOption',\n    value: function _changeOption(newOption) {\n      var onChange = this.props.onChange;\n\n      var index = this._findOptionIndexFromOptions(newOption);\n\n      this.setState({\n        isOptionsOpen: false,\n        isOptionSelected: false,\n        focusedOptionIndex: index,\n        selectedOptionIndex: index,\n        currentOption: newOption\n      });\n\n      if (onChange) {\n        this.props.onChange(this._getOptionValue(newOption));\n      }\n    }\n  }, {\n    key: '_getOptionValue',\n    value: function _getOptionValue(option) {\n      var _props2 = this.props,\n          valueKey = _props2.valueKey,\n          returnValueOnly = _props2.returnValueOnly;\n\n      if (returnValueOnly) {\n        return valueKey ? option[valueKey] : option;\n      } else {\n        return option;\n      }\n    }\n  }, {\n    key: '_findOptionIndexFromOptions',\n    value: function _findOptionIndexFromOptions(option) {\n      var labelKey = this.props.labelKey;\n      return this.state.options.findIndex(function (item) {\n        if (labelKey) {\n          return item[labelKey] == option[labelKey];\n        } else {\n          return item == option;\n        }\n      });\n    }\n  }, {\n    key: '_loadProps',\n    value: function _loadProps(props, callback) {\n      var _this2 = this;\n\n      var options = props.options,\n          value = props.value,\n          labelKey = props.labelKey,\n          autoComplete = props.autoComplete,\n          placeholder = props.placeholder,\n          disabled = props.disabled;\n\n      if (autoComplete == false) {\n        this.input.readOnly = true;\n      }\n\n      if (placeholder) {\n        this.setState({\n          placeholder: placeholder\n        });\n      }\n\n      if (typeof disabled == 'boolean') {\n        this.setState({\n          disabled: disabled\n        });\n      }\n\n      this._setValue(value);\n\n      this._setOptions(options, function () {\n        _this2._setInputValue(value, labelKey);\n\n        if (callback) {\n          callback();\n        }\n      });\n    }\n  }, {\n    key: '_setValue',\n    value: function _setValue(value) {\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: '_setInputValue',\n    value: function _setInputValue(newValue, labelKey) {\n      var options = this.state.options;\n      var type = typeof newValue === 'undefined' ? 'undefined' : _typeof(newValue);\n      var inputValue = '';\n\n      if (options.length == 0) {\n        inputValue = '';\n      } else if (type == 'string' && newValue.length == 0) {\n        inputValue = '';\n      } else if (type == 'string') {\n        inputValue = this._findLabelByValue(newValue);\n      } else if (type == 'object' && !Array.isArray(newValue)) {\n        inputValue = newValue[labelKey];\n      }\n\n      this.input.value = inputValue;\n    }\n  }, {\n    key: '_getOptionByLabel',\n    value: function _getOptionByLabel(label) {\n      var _this3 = this;\n\n      var options = this.state.options;\n      var index = options.findIndex(function (option) {\n        return _this3._getOptionLabel(option) == label;\n      });\n      return options[index];\n    }\n  }, {\n    key: '_findLabelByValue',\n    value: function _findLabelByValue(value) {\n      var _this4 = this;\n\n      var options = this.state.options;\n      var index = options.findIndex(function (option) {\n        return option[_this4.props.valueKey].toLowerCase() == value.toLowerCase();\n      });\n      return options[index][this.props.labelKey];\n    }\n  }, {\n    key: '_filterOptions',\n    value: function _filterOptions(newValue) {\n      var _this5 = this;\n\n      var options = this.state.options;\n      var newOptions = [];\n\n      if (newValue.length == 0) {\n        newOptions = options;\n      } else {\n        newOptions = options.filter(function (option) {\n          var label = _this5._getOptionLabel(option);\n\n          return _this5._findSubStringIndex(label, newValue) !== -1;\n        });\n      }\n\n      this.setState({\n        currentOptions: newOptions\n      });\n    }\n  }, {\n    key: '_getOptionLabel',\n    value: function _getOptionLabel(option) {\n      return (typeof option === 'undefined' ? 'undefined' : _typeof(option)) == 'object' ? option[this.props.labelKey] : option;\n    }\n  }, {\n    key: '_findSubStringIndex',\n    value: function _findSubStringIndex(str, sub) {\n      return str.toLowerCase().indexOf(sub.toLowerCase());\n    }\n  }, {\n    key: '_navigateOptions',\n    value: function _navigateOptions(dir) {\n      if (!this.state.isOptionsOpen) {\n        this.showOptions(true);\n        return;\n      }\n\n      var _state2 = this.state,\n          focusedOptionIndex = _state2.focusedOptionIndex,\n          currentOptions = _state2.currentOptions;\n\n      if (dir == 'down') {\n        focusedOptionIndex += 1;\n      } else if (dir == 'up') {\n        focusedOptionIndex -= 1;\n      }\n\n      if (focusedOptionIndex < 0) {\n        focusedOptionIndex = currentOptions.length - 1;\n      } else if (focusedOptionIndex > currentOptions.length - 1) {\n        focusedOptionIndex = 0;\n      }\n\n      this.setState({\n        focusedOptionIndex: focusedOptionIndex\n      });\n    }\n  }, {\n    key: 'showOptions',\n    value: function showOptions(flag) {\n      if (flag) {\n        this.input.focus();\n        this.setState({\n          isOptionsOpen: true,\n          inputFoucsed: true,\n          currentOptions: this.state.options,\n          focusedOptionIndex: this.state.selectedOptionIndex\n        });\n      } else {\n        this.setState({\n          isOptionsOpen: false,\n          inputFoucsed: false,\n          focusedOptionIndex: this.state.selectedOptionIndex\n        });\n      }\n    }\n  }, {\n    key: '_setOptions',\n    value: function _setOptions(options, callback) {\n      if (!options) {\n        return callback();\n      }\n\n      var optionsArr = [];\n\n      if (this.props.defaultOption) {\n        optionsArr = optionsArr.concat(this.props.defaultOption);\n      }\n\n      optionsArr = optionsArr.concat(options);\n      this.setState({\n        options: optionsArr,\n        currentOptions: optionsArr\n      }, callback);\n    }\n  }, {\n    key: '_getInputClassName',\n    value: function _getInputClassName() {\n      return (0, _classNames2.default)({\n        'dropdown-select__input': !this.props.inputClassName\n      }, this.props.inputClassName);\n    }\n  }, {\n    key: '_getSelectClassName',\n    value: function _getSelectClassName() {\n      return (0, _classNames2.default)({\n        'dropdown-select': !this.props.selectClassName,\n        'dropdown-select--focused': this.state.inputFoucsed\n      }, this.props.selectClassName);\n    }\n  }]);\n\n  return BaseSelect;\n}(_react.Component); // Export\n\n\nexports.default = BaseSelect;","map":{"version":3,"sources":["C:/react/google-docs-clone-main/client/node_modules/dropdown-select/lib/components/shared/BaseSelect.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_react","require","_classNames","_classNames2","_interopRequireDefault","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","BaseSelect","_Component","_this","getPrototypeOf","handleInputClick","bind","handleInputBlur","handleOptionClick","handleOptionsMouseDown","handleInputChange","handleInputFocus","handleKeyPress","handleOptionFocused","showOptions","_changeValueIfReq","componentDidMount","_loadProps","componentWillReceiveProps","nextProps","newValue","setState","focusedOptionIndex","_filterOptions","event","inputFoucsed","state","isOptionSelected","currentOptions","isOptionsOpen","_restoreInputValue","e","newOption","_changeOption","optionsContainer","_state","keyCode","preventDefault","stopPropagation","_navigateOptions","index","currentOption","label","_getOptionLabel","input","_props","returnValueOnly","option","_getOptionByLabel","_findLabelByValue","_findOptionIndexFromOptions","selectedOptionIndex","onChange","_getOptionValue","_props2","valueKey","labelKey","options","findIndex","item","callback","_this2","autoComplete","placeholder","disabled","readOnly","_setValue","_setOptions","_setInputValue","type","inputValue","Array","isArray","_this3","_this4","toLowerCase","_this5","newOptions","filter","_findSubStringIndex","str","sub","indexOf","dir","_state2","flag","focus","optionsArr","defaultOption","concat","_getInputClassName","inputClassName","_getSelectClassName","selectClassName","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _classNames = require('../../utils/classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Vendor Imports\n\n\n// Local Imports\n\n\n// Dropdown Select\nvar BaseSelect = function (_Component) {\n  _inherits(BaseSelect, _Component);\n\n  function BaseSelect(props) {\n    _classCallCheck(this, BaseSelect);\n\n    var _this = _possibleConstructorReturn(this, (BaseSelect.__proto__ || Object.getPrototypeOf(BaseSelect)).call(this, props));\n\n    _this.handleInputClick = _this.handleInputClick.bind(_this);\n    _this.handleInputBlur = _this.handleInputBlur.bind(_this);\n    _this.handleOptionClick = _this.handleOptionClick.bind(_this);\n    _this.handleOptionsMouseDown = _this.handleOptionsMouseDown.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    _this.handleInputFocus = _this.handleInputFocus.bind(_this);\n    _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n    _this.handleOptionFocused = _this.handleOptionFocused.bind(_this);\n    _this.showOptions = _this.showOptions.bind(_this);\n    _this._changeValueIfReq = _this._changeValueIfReq.bind(_this);\n    return _this;\n  }\n\n  // Component LifeCycle\n\n\n  _createClass(BaseSelect, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._loadProps(this.props, this._changeValueIfReq);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this._loadProps(nextProps, this._changeValueIfReq);\n    }\n\n    // Handlers\n\n  }, {\n    key: 'handleInputChange',\n    value: function handleInputChange(newValue) {\n      this.setState({ focusedOptionIndex: 0 });\n      this._filterOptions(newValue.target.value);\n    }\n  }, {\n    key: 'handleInputClick',\n    value: function handleInputClick(event) {\n      this.setState({ inputFoucsed: true });\n      this.showOptions(true);\n    }\n  }, {\n    key: 'handleInputBlur',\n    value: function handleInputBlur(event) {\n      this.setState({ inputFoucsed: false });\n      if (!this.state.isOptionSelected || this.state.currentOptions.length == 0) {\n        this.setState({ isOptionsOpen: false, isOptionSelected: false });\n      }\n      this._restoreInputValue();\n    }\n  }, {\n    key: 'handleInputFocus',\n    value: function handleInputFocus(e) {\n      this.setState({ inputFoucsed: true });\n      this.showOptions(true);\n    }\n  }, {\n    key: 'handleOptionClick',\n    value: function handleOptionClick(newOption) {\n      this._changeOption(newOption);\n    }\n  }, {\n    key: 'handleOptionsMouseDown',\n    value: function handleOptionsMouseDown(e) {\n      if (e.target !== this.optionsContainer) {\n        this.setState({ isOptionSelected: true });\n      }\n    }\n  }, {\n    key: 'handleKeyPress',\n    value: function handleKeyPress(e) {\n      var _state = this.state,\n          currentOptions = _state.currentOptions,\n          focusedOptionIndex = _state.focusedOptionIndex;\n\n      switch (e.keyCode) {\n        case 40:\n          // Down Arrow\n          e.preventDefault();\n          e.stopPropagation();\n          this._navigateOptions('down');\n          break;\n        case 38:\n          // Up Arrow\n          e.preventDefault();\n          e.stopPropagation();\n          this._navigateOptions('up');\n          break;\n        case 13:\n          // Enter\n          e.preventDefault();\n          e.stopPropagation();\n          this._changeOption(currentOptions[focusedOptionIndex]);\n          break;\n        case 27:\n          // Esc\n          this.showOptions(false);\n          break;\n        case 8:\n          // Backspace\n          this.showOptions(true);\n          break;\n      }\n    }\n  }, {\n    key: 'handleOptionFocused',\n    value: function handleOptionFocused(index) {\n      this.setState({ focusedOptionIndex: index });\n    }\n\n    // Private\n\n  }, {\n    key: '_restoreInputValue',\n    value: function _restoreInputValue() {\n      var currentOption = this.state.currentOption;\n\n      if (currentOption) {\n        var label = this._getOptionLabel(currentOption);\n        if (label != this.input.value) {\n          this.input.value = label;\n        }\n      }\n    }\n  }, {\n    key: '_changeValueIfReq',\n    value: function _changeValueIfReq() {\n      var _props = this.props,\n          value = _props.value,\n          returnValueOnly = _props.returnValueOnly;\n\n      if (!value || value.length == 0) {\n        return;\n      }\n      if (typeof value == 'string') {\n        var option = this._getOptionByLabel(this._findLabelByValue(value));\n        if (!option) {\n          return;\n        } else if (!returnValueOnly) {\n          this._changeOption(option);\n        } else if (returnValueOnly) {\n          var index = this._findOptionIndexFromOptions(option);\n          this.setState({\n            focusedOptionIndex: index,\n            selectedOptionIndex: index\n          });\n        }\n      }\n    }\n  }, {\n    key: '_changeOption',\n    value: function _changeOption(newOption) {\n      var onChange = this.props.onChange;\n\n      var index = this._findOptionIndexFromOptions(newOption);\n      this.setState({\n        isOptionsOpen: false,\n        isOptionSelected: false,\n        focusedOptionIndex: index,\n        selectedOptionIndex: index,\n        currentOption: newOption\n      });\n      if (onChange) {\n        this.props.onChange(this._getOptionValue(newOption));\n      }\n    }\n  }, {\n    key: '_getOptionValue',\n    value: function _getOptionValue(option) {\n      var _props2 = this.props,\n          valueKey = _props2.valueKey,\n          returnValueOnly = _props2.returnValueOnly;\n\n      if (returnValueOnly) {\n        return valueKey ? option[valueKey] : option;\n      } else {\n        return option;\n      }\n    }\n  }, {\n    key: '_findOptionIndexFromOptions',\n    value: function _findOptionIndexFromOptions(option) {\n      var labelKey = this.props.labelKey;\n\n      return this.state.options.findIndex(function (item) {\n        if (labelKey) {\n          return item[labelKey] == option[labelKey];\n        } else {\n          return item == option;\n        }\n      });\n    }\n  }, {\n    key: '_loadProps',\n    value: function _loadProps(props, callback) {\n      var _this2 = this;\n\n      var options = props.options,\n          value = props.value,\n          labelKey = props.labelKey,\n          autoComplete = props.autoComplete,\n          placeholder = props.placeholder,\n          disabled = props.disabled;\n\n      if (autoComplete == false) {\n        this.input.readOnly = true;\n      }\n      if (placeholder) {\n        this.setState({ placeholder: placeholder });\n      }\n      if (typeof disabled == 'boolean') {\n        this.setState({ disabled: disabled });\n      }\n      this._setValue(value);\n      this._setOptions(options, function () {\n        _this2._setInputValue(value, labelKey);\n        if (callback) {\n          callback();\n        }\n      });\n    }\n  }, {\n    key: '_setValue',\n    value: function _setValue(value) {\n      this.setState({ value: value });\n    }\n  }, {\n    key: '_setInputValue',\n    value: function _setInputValue(newValue, labelKey) {\n      var options = this.state.options;\n\n      var type = typeof newValue === 'undefined' ? 'undefined' : _typeof(newValue);\n      var inputValue = '';\n      if (options.length == 0) {\n        inputValue = '';\n      } else if (type == 'string' && newValue.length == 0) {\n        inputValue = '';\n      } else if (type == 'string') {\n        inputValue = this._findLabelByValue(newValue);\n      } else if (type == 'object' && !Array.isArray(newValue)) {\n        inputValue = newValue[labelKey];\n      }\n      this.input.value = inputValue;\n    }\n  }, {\n    key: '_getOptionByLabel',\n    value: function _getOptionByLabel(label) {\n      var _this3 = this;\n\n      var options = this.state.options;\n\n      var index = options.findIndex(function (option) {\n        return _this3._getOptionLabel(option) == label;\n      });\n      return options[index];\n    }\n  }, {\n    key: '_findLabelByValue',\n    value: function _findLabelByValue(value) {\n      var _this4 = this;\n\n      var options = this.state.options;\n\n      var index = options.findIndex(function (option) {\n        return option[_this4.props.valueKey].toLowerCase() == value.toLowerCase();\n      });\n      return options[index][this.props.labelKey];\n    }\n  }, {\n    key: '_filterOptions',\n    value: function _filterOptions(newValue) {\n      var _this5 = this;\n\n      var options = this.state.options;\n\n      var newOptions = [];\n      if (newValue.length == 0) {\n        newOptions = options;\n      } else {\n        newOptions = options.filter(function (option) {\n          var label = _this5._getOptionLabel(option);\n          return _this5._findSubStringIndex(label, newValue) !== -1;\n        });\n      }\n      this.setState({ currentOptions: newOptions });\n    }\n  }, {\n    key: '_getOptionLabel',\n    value: function _getOptionLabel(option) {\n      return (typeof option === 'undefined' ? 'undefined' : _typeof(option)) == 'object' ? option[this.props.labelKey] : option;\n    }\n  }, {\n    key: '_findSubStringIndex',\n    value: function _findSubStringIndex(str, sub) {\n      return str.toLowerCase().indexOf(sub.toLowerCase());\n    }\n  }, {\n    key: '_navigateOptions',\n    value: function _navigateOptions(dir) {\n      if (!this.state.isOptionsOpen) {\n        this.showOptions(true);\n        return;\n      }\n      var _state2 = this.state,\n          focusedOptionIndex = _state2.focusedOptionIndex,\n          currentOptions = _state2.currentOptions;\n\n      if (dir == 'down') {\n        focusedOptionIndex += 1;\n      } else if (dir == 'up') {\n        focusedOptionIndex -= 1;\n      }\n      if (focusedOptionIndex < 0) {\n        focusedOptionIndex = currentOptions.length - 1;\n      } else if (focusedOptionIndex > currentOptions.length - 1) {\n        focusedOptionIndex = 0;\n      }\n      this.setState({ focusedOptionIndex: focusedOptionIndex });\n    }\n  }, {\n    key: 'showOptions',\n    value: function showOptions(flag) {\n      if (flag) {\n        this.input.focus();\n        this.setState({\n          isOptionsOpen: true,\n          inputFoucsed: true,\n          currentOptions: this.state.options,\n          focusedOptionIndex: this.state.selectedOptionIndex\n        });\n      } else {\n        this.setState({\n          isOptionsOpen: false,\n          inputFoucsed: false,\n          focusedOptionIndex: this.state.selectedOptionIndex\n        });\n      }\n    }\n  }, {\n    key: '_setOptions',\n    value: function _setOptions(options, callback) {\n      if (!options) {\n        return callback();\n      }\n      var optionsArr = [];\n      if (this.props.defaultOption) {\n        optionsArr = optionsArr.concat(this.props.defaultOption);\n      }\n      optionsArr = optionsArr.concat(options);\n      this.setState({ options: optionsArr, currentOptions: optionsArr }, callback);\n    }\n  }, {\n    key: '_getInputClassName',\n    value: function _getInputClassName() {\n      return (0, _classNames2.default)({\n        'dropdown-select__input': !this.props.inputClassName\n      }, this.props.inputClassName);\n    }\n  }, {\n    key: '_getSelectClassName',\n    value: function _getSelectClassName() {\n      return (0, _classNames2.default)({\n        'dropdown-select': !this.props.selectClassName,\n        'dropdown-select--focused': this.state.inputFoucsed\n      }, this.props.selectClassName);\n    }\n  }]);\n\n  return BaseSelect;\n}(_react.Component);\n\n// Export\n\n\nexports.default = BaseSelect;"]},"metadata":{},"sourceType":"script"}